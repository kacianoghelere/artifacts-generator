(function(t){function e(e){for(var n,o,s=e[0],c=e[1],u=e[2],m=0,d=[];m<s.length;m++)o=s[m],r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"044f":function(t,e,a){},"191d":function(t,e,a){"use strict";var n=a("8123"),r=a.n(n);r.a},"1a2c":function(t,e,a){},"1c45":function(t,e,a){},"37a1":function(t,e,a){"use strict";var n=a("635f"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("cebc"),r=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),i=a("2f62"),o=a("63d6"),s=a.n(o),c=(a("1940"),a("740a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content h-100"},[a("nav",{staticClass:"navbar navbar-dark bg-dark w-100"},[t._m(0),a("ImportItems")],1),a("div",{staticClass:"item-generator"},[a("div",{staticClass:"editor"},[a("ItemPreview",[a("ItemOptions",{staticClass:"options-left",attrs:{title:"Propriedades do artefato"}},[a("ItemBackOptions")],1),a("ItemOptions",{staticClass:"options-right",attrs:{title:"Exterior do artefato"}},[a("ItemCoverOptions")],1)],1)],1),a("div",{staticClass:"export-list"},[a("GeneratedItems",{staticClass:"h-100"})],1)]),t._m(1)])}),u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand text-light"},[a("img",{attrs:{src:"/logo-brand.png",height:"30",alt:""}}),t._v("\n      Gerador de Artefatos\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"credits"},[a("a",{staticClass:"text-dark",attrs:{href:"https://kacianoghelere.github.io/",target:"_blank"}},[t._v("\n      Criado por Kaciano Ghelere (v1.0.0)\n    ")])])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"generated-items"},[a("div",{staticClass:"row align-items-stretch h-100 mx-0"},[a("div",{staticClass:"col-12 col-md-9 col-lg-10 order-1 order-md-0"},[a("div",{staticClass:"d-flex justify-content-between align-items-center border-bottom"},[a("h5",{staticClass:"text-dark my-1 title"},[t._v("Artefatos criados")]),a("a",{staticClass:"text-danger pointer",attrs:{hidden:!t.hasGeneratedItems},on:{click:t.removeGeneratedItems}},[a("i",{staticClass:"fa fa-trash mr-2"}),t._v(" Destruir artefatos\n        ")])]),a("GeneratedItemsList",{attrs:{"generated-items":t.generatedItems}})],1),a("div",{staticClass:"col-12 col-md-3 col-lg-2 order-0 order-md-1 border-left bg-white"},[a("div",{staticClass:"h-100 d-flex flex-column justify-content-center align-items-center"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:!t.hasGeneratedItems},on:{click:t.exportToPdf}},[a("i",{staticClass:"fa fa-file-pdf-o mr-1"}),a("strong",[t._v("Materializar artefatos")])]),t._m(0)])])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted text-center m-0 mt-1"},[a("small",[t._v("Arquivo em formato .pdf")]),a("br"),a("small",[t._v("Tamanho A4 (Paisagem)")]),a("br"),a("small",[t._v("4 artefatos por folha")])])}],d=a("5935"),f=a("bd86"),p=a("e511"),v=a.n(p),g={exportToPdf:function(t){var e=t.state,a=e.format,n=e.margin,r=e.orientation,i=e.spacing,o=t.getters,s=o.fitsFormatHeight,c=o.fitsFormatWidth,u=o.getImageRealSize,l=o.pageDimensions,m=t.rootState.generatedItems,d=t.rootGetters.hasGeneratedItems;if(d){var f=new v.a({unit:"mm",format:a,orientation:r}),p=n,g=n;f.setFont("helvetica"),f.setFontType("regular"),f.setFontSize(10),f.setTextColor("red");var b=n,h=l.height-n,C=function(){var t="Dicas para obter uma boa impressão: respeite as margens e sempre imprima com 100% do tamanho de impressão. Cada carta mede aproximadamente 63,5mm x 88mm.";f.text(b,h,t)};C();var _=1,x=1;for(var y in m){var I=m[y].image,w=u(I),k=w.width,O=w.height,E=c(p+k);console.log("Imagem ",_++),console.log("positionX + width <= availableWidth",p+k,l.availableWidth,p+k<=l.availableWidth),console.log("positionY + height <= availableHeight",g+O,l.availableHeight,g+O<=l.availableHeight);var j=s(g+O);E||j?!E&&j&&(p=n,g+=O+i):(f.addPage(a,r),x++,C(),p=n,g=n),console.log({page:x,positionX:p,positionY:g}),f.addImage(I.url,"JPEG",p,g,k,O),p+=k+i}var T=(new Date).toISOString();f.save("artefatos_".concat(a,"_").concat(T,".pdf"))}}},b={getField:d["a"],fitsFormat:function(t,e){var a=e.pageDimensions;return function(t,e){return e<=a[t]}},fitsFormatHeight:function(t,e){var a=e.fitsFormat;return function(t){return a("availableHeight",t)}},fitsFormatWidth:function(t,e){var a=e.fitsFormat;return function(t){return a("availableWidth",t)}},getCovertedSize:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=25.4*t/e;return Math.round(10*a)/10}},getImageRealSize:function(t,e){var a=e.getCovertedSize;return function(t){var e=t.width,n=t.height;return{width:a(e),height:a(n)}}},pageDimensions:function(t){var e=t.formats,a=t.format,n=void 0===a?"a4":a,r=t.orientation,i=void 0===r?"landscape":r;return e[n][i]}},h=null,C={updateField:function(t,e){h&&clearTimeout(h),h=setTimeout(function(){return Object(d["c"])(t,e)},100)}},_=["Comum","Incomum","Raro","Muito Raro","Lendário","Artefato","Único"],x=["Anel","Arma","Armadura","Benção","Cajado","Habilidade","Item Maravilhoso","Pergaminho","Poção","Varinha"],y=10,I=function(t,e){return{height:e,width:t,availableHeight:e-2*y,availableWidth:t-2*y}},w=function(t,e){return{portrait:I(t,e),landscape:I(e,t)}},k={a4:w(210,297),a3:w(297,420)},O=["portrait","landscape"],E=5,j={uuid:null,name:"Meu novo artefato",type:x[1],subType:"",rarity:_[0],description:"",effects:"",requiresAttunement:!1,file:null,backgroundColor:"#ffffff",backgroundSize:"cover",backgroundPositionX:50,backgroundPositionY:50,showLevels:!0},T={format:"a4",formats:k,margin:y,orientation:"landscape",orientations:O,spacing:E},P={namespaced:!0,actions:g,getters:b,mutations:C,state:T},S="EXPORT_PDF",R=Object(f["a"])({},S,P),G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"generated-items"},t._l(t.generatedItems,function(e,n){return a("figure",{key:n,staticClass:"figure generated-item",attrs:{title:e.name}},[a("figcaption",{staticClass:"figure-caption text-truncate"},[a("small",[t._v(t._s(e.name))])]),a("div",{staticClass:"figure-image"},[a("img",{staticClass:"img-fluid rounded",attrs:{src:e.image.url,alt:e.image.name}}),a("div",{staticClass:"figure-controls"},[a("a",{staticClass:"text-dark mb-1",on:{click:function(a){return t.download(e.image)}}},[t._m(0,!0)]),a("a",{staticClass:"text-dark mb-1",on:{click:function(e){return t.editGeneratedItem(n)}}},[t._m(1,!0)]),a("a",{staticClass:"text-dark",on:{click:function(e){return t.removeGeneratedItem(n)}}},[t._m(2,!0)])])])])}),0)},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("i",{staticClass:"fa fa-cloud-download"}),t._v(" Download")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("i",{staticClass:"fa fa-edit"}),t._v(" Modificar")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("i",{staticClass:"fa fa-trash"}),t._v(" Destruir")])}],D=(a("7f7f"),a("a481"),a("a4bb")),M=a.n(D),A={name:"GeneratedItemsList",props:{generatedItems:Object},computed:{hasGeneratedItems:function(){return!!M()(this.generatedItems).length}},methods:Object(n["a"])({},Object(i["b"])(["editGeneratedItem"]),Object(i["d"])({removeGeneratedItem:"REMOVE_GENERATED_ITEM"}),{download:function(t){var e=document.createElement("a");e.href=t.url.replace("image/jpeg","image/octet-stream"),e.download=t.name,e.click()}})},F=A,L=(a("c3fb"),a("2877")),$=Object(L["a"])(F,G,B,!1,null,"7e00ca3e",null),z=$.exports,q={name:"GeneratedItems",components:{GeneratedItemsList:z},computed:Object(n["a"])({},Object(i["e"])(["generatedItems"]),Object(d["b"])(S,["format","orientation"]),Object(i["c"])(["hasGeneratedItems"])),mounted:function(){console.log(this.format,this.orientation)},methods:Object(n["a"])({},Object(i["b"])(S,["exportToPdf"]),Object(i["d"])({removeGeneratedItems:"REMOVE_GENERATED_ITEMS"}))},N=q,Z=(a("a14a"),Object(L["a"])(N,l,m,!1,null,"2952a54e",null)),H=Z.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"itemPreview",staticClass:"item-preview"},[a("div",{staticClass:"generate-options"},[a("div",{staticClass:"d-md-flex align-items-md-center justify-content-md-center"},[a("div",{staticClass:"form-inline mr-md-1"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemName,expression:"itemName"}],staticClass:"form-control mx-md-1 my-1",attrs:{type:"text",id:"itemName"},domProps:{value:t.itemName},on:{input:function(e){e.target.composing||(t.itemName=e.target.value)}}})]),a("button",{staticClass:"btn text-left",class:t.constructButtonClasses,attrs:{type:"button",disabled:t.calculatingZoom},on:{click:t.generateImage}},[a("i",{staticClass:"ra ra-fairy-wand mr-2"}),t.item.uuid?a("strong",[t._v("Reconstruir artefato")]):a("strong",[t._v("Criar artefato")])])])]),a("div",{staticClass:"editor-center"},[a("img",{staticClass:"loading",attrs:{hidden:!t.calculatingZoom,src:"/loading.png",alt:"Calculando preview..."}}),a("div",{ref:"itemCards",staticClass:"item-cards",style:{zoom:t.previewZoom},attrs:{hidden:t.calculatingZoom}},[a("ItemCard",[a("BackgroundCard",{attrs:{item:t.item}})],1),a("ItemCard",[a("FrontCard",{attrs:{item:t.item}})],1)],1),t._t("default")],2)])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"my-1 mx-md-1",attrs:{for:"itemName"}},[a("strong",[t._v("Nome do artefato:")])])}],W=a("59ad"),U=a.n(W),V=(a("96cf"),a("3b8d")),J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-card"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-name"},[t._v(t._s(t.item.name))]),a("div",{staticClass:"header-details"},[a("div",{staticClass:"type-rarity-attunement"},[a("span",[t._v(t._s(t.item.type)),t.item.subType?a("span",[t._v(" ("+t._s(t.item.subType)+")")]):t._e(),t._v(", ")]),a("strong",[t._v(t._s(t.item.rarity)+" ")]),t.item.requiresAttunement?a("span",[t._v("(requer sintonização)")]):t._e()]),a("div",{staticClass:"description",domProps:{innerHTML:t._s(t.itemDescription)}})])]),a("div",{staticClass:"body"},[t._m(0),a("div",{staticClass:"body-content"},[a("div",{staticClass:"effect"},[a("div",{staticClass:"effect-description",domProps:{innerHTML:t._s(t.itemEffects)}})])])])])},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body-heading"},[a("span",[t._v("Mecânicas")])])}],Q=a("0e54"),tt=a.n(Q),et={name:"BackgroundCard",props:{item:{type:Object}},computed:{itemDescription:function(){return this.getMarkdownText(this.item.description)},itemEffects:function(){return this.getMarkdownText(this.item.effects)}},methods:{getMarkdownText:function(t){return tt()(t,{sanitize:!0})}}},at=et,nt=(a("9ce9"),Object(L["a"])(at,J,K,!1,null,"16fa9a13",null)),rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"front-card",style:t.customStyles},[a("div",{staticClass:"ribbon"},[a("p",{staticClass:"ribbon-text"},[t._v(t._s(t.item.name))])])])},ot=[],st={name:"FrontCard",props:{item:{type:Object}},computed:{customStyles:function(){var t="",e=this.item,a=e.file,n=e.backgroundColor,r=e.backgroundSize,i=e.backgroundPositionX,o=e.backgroundPositionY;return a&&(t=a.dataUrl),{"background-color":n,"background-image":"url(".concat(t,")"),"background-position":"".concat(i,"% ").concat(o,"% !important"),"background-size":r}}}},ct=st,ut=(a("f36c"),Object(L["a"])(ct,it,ot,!1,null,"696a46cf",null)),lt=ut.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-card"},[t._t("default")],2)},dt=[],ft={name:"ItemCard"},pt=ft,vt=(a("191d"),Object(L["a"])(pt,mt,dt,!1,null,"712eeab5",null)),gt=vt.exports,bt={name:"ItemPreview",components:{BackgroundCard:rt,FrontCard:lt,ItemCard:gt},data:function(){return{calculatingZoom:!0,calculatingZoomTimeout:null,scale:"md",previewZoom:1}},computed:Object(n["a"])({},Object(i["e"])(["item"]),Object(d["b"])({itemName:"item.name"}),{constructButtonClasses:function(){return{"btn-secondary":!this.item.uuid,"btn-success":!!this.item.uuid}},previewSize:function(){return"item-preview-".concat(this.scale)}}),mounted:function(){this.$nextTick(function(){window.addEventListener("resize",this.updateZoom),this.updateZoom()})},beforeDestroy:function(){window.removeEventListener("resize",this.updateZoom)},methods:Object(n["a"])({},Object(i["b"])(["setGeneratedItem"]),{exportItem:function(){var t=Object(V["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$refs.itemCards,t.next=3,this.$html2canvas(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),generateImage:function(){var t=Object(V["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.exportItem();case 2:e=t.sent,this.setGeneratedItem({name:"".concat(this.item.name,".jpg"),url:e.toDataURL("image/jpeg"),width:e.width,height:e.height});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),updateZoom:function(){var t=this;this.calculatingZoom=!0,this.calculatingZoomTimeout&&clearTimeout(this.calculatingZoomTimeout),this.calculatingZoomTimeout=setTimeout(function(){var e=1039,a=t.$refs.itemPreview,n=a.offsetHeight,r=a.offsetWidth,i=.8*Math.min(n,r),o=U()((i/e).toFixed(2));t.previewZoom=Math.min(o,1),t.calculatingZoom=!1},500)}})},ht=bt,Ct=(a("61ad"),Object(L["a"])(ht,X,Y,!1,null,"9fe4c00e",null)),_t=Ct.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-secondary mb-0 mr-2",attrs:{type:"button",disabled:!t.hasGeneratedItems,title:"Exportar configurações de artefatos para arquivo .json"},on:{click:t.exportGeneratedItems}},[a("i",{staticClass:"fa fa-cloud-download mr-1"}),t._v(" Exportar\n  ")]),t._m(0),a("input",{staticClass:"d-none m-0",attrs:{type:"file",id:"importItems",multiple:!1,lang:"pt-br",accept:".json",hidden:""},on:{change:function(e){return t.importItems(e.target)}}})])},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"btn btn-secondary mb-0",attrs:{for:"importItems",title:"Importar configurações de artefatos de arquivo .json"}},[a("i",{staticClass:"fa fa-cloud-upload mr-1"}),t._v(" Importar\n  ")])}],It={name:"ImportItems",computed:Object(n["a"])({},Object(i["c"])(["hasGeneratedItems"])),methods:Object(n["a"])({},Object(i["b"])(["exportGeneratedItems","importGeneratedItems"]),{importItems:function(t){var e=t.files;this.importGeneratedItems(e[0])}})},wt=It,kt=(a("62ba"),Object(L["a"])(wt,xt,yt,!1,null,"66d55897",null)),Ot=kt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-back-options"},[a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemType",text:"Categoria do artefato"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.itemType,expression:"itemType"}],staticClass:"custom-select",attrs:{id:"itemType"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.itemType=e.target.multiple?a:a[0]}}},t._l(t.types,function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v("\n        "+t._s(e)+"\n      ")])}),0)],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemName",text:"Tipo de artefato"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemSubType,expression:"itemSubType"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Espada longa",id:"itemSubType"},domProps:{value:t.itemSubType},on:{input:function(e){e.target.composing||(t.itemSubType=e.target.value)}}})],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemRarity",text:"Raridade"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.itemRarity,expression:"itemRarity"}],staticClass:"custom-select",attrs:{id:"itemRarity"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.itemRarity=e.target.multiple?a:a[0]}}},t._l(t.rarities,function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v("\n        "+t._s(e)+"\n      ")])}),0)],1),a("div",{staticClass:"form-group"},[a("SwitchComponent",{attrs:{text:"Requer sintonização?",id:"itemRequiresAttunement"},model:{value:t.itemRequiresAttunement,callback:function(e){t.itemRequiresAttunement=e},expression:"itemRequiresAttunement"}})],1),a("div",{staticClass:"form-group"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("Label",{attrs:{for:"itemDescription",text:"Descrição"}}),a("span",{staticClass:"badge badge-light"},[t._v("\n        "+t._s(t.itemDescription.length)+"/500\n      ")])],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.itemDescription,expression:"itemDescription"}],staticClass:"form-control",attrs:{id:"itemDescription",maxlength:"500",placeholder:"Esta espada antiga foi feita com um metal raro retirado de um meteorito...",rows:"4"},domProps:{value:t.itemDescription},on:{input:function(e){e.target.composing||(t.itemDescription=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("Label",{attrs:{for:"itemEffects",text:"Efeitos"}})],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.itemEffects,expression:"itemEffects"}],staticClass:"form-control effect-description",attrs:{id:"itemEffects",placeholder:"Com este artefato, o usuário pode...",rows:"4"},domProps:{value:t.itemEffects},on:{input:function(e){e.target.composing||(t.itemEffects=e.target.value)}}})]),t._m(0)])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"text-dark",attrs:{href:"https://commonmark.org/help/",target:"_blank"}},[a("i",{staticClass:"fa fa-external-link"}),t._v(" Guia de formatação de texto\n  ")])}],Tt=function(t,e){var a=e._c;return a("label",{staticClass:"text-dark font-weight-bold",attrs:{for:e.props.for}},[e._v("\n    "+e._s(e.props.text)+"\n")])},Pt=[],St={name:"Label",functional:!0,props:{text:{type:String,required:!0},for:{type:String}}},Rt=St,Gt=Object(L["a"])(Rt,Tt,Pt,!0,null,null,null),Bt=Gt.exports,Dt=function(t,e){var a=e._c;return a("div",{staticClass:"custom-control custom-switch"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.props.id},domProps:{checked:e.props.value},on:{change:function(t){return e.listeners.input(t.target.checked)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:e.props.id}},[e._v("\n    "+e._s(e.props.text)+"\n  ")])])},Mt=[],At={name:"SwitchComponent",functional:!0,props:{id:{type:String,required:!0},text:{type:String,default:function(){return""}},value:{type:Boolean,required:!0}}},Ft=At,Lt=Object(L["a"])(Ft,Dt,Mt,!0,null,null,null),$t=Lt.exports,zt={name:"ItemBackOptions",components:{Label:Bt,SwitchComponent:$t},computed:Object(n["a"])({},Object(i["e"])(["item","rarities","types"]),Object(d["b"])({itemDescription:"item.description",itemEffects:"item.effects",itemRarity:"item.rarity",itemRequiresAttunement:"item.requiresAttunement",itemType:"item.type",itemSubType:"item.subType",itemShowLevels:"item.showLevels"}))},qt=zt,Nt=(a("9576"),Object(L["a"])(qt,Et,jt,!1,null,"b1a9ed28",null)),Zt=Nt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-cover-options"},[a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"background",text:"Aparência do artefato"}}),a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"backgroundFile",multiple:!1,lang:"pt-br"},on:{change:function(e){return t.changeBackground(e.target)}}}),a("label",{staticClass:"custom-file-label text-truncate",attrs:{for:"backgroundFile"}},[a("small",{staticClass:"text-muted"},[t._v("\n          "+t._s(t.item.file?t.item.file.name:"Selecione uma imagem aqui")+"\n        ")])])])],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{text:"Enquadramento"}}),a("ImageFraming",{model:{value:t.itemBackgroundSize,callback:function(e){t.itemBackgroundSize=e},expression:"itemBackgroundSize"}})],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{text:"Posicionamento"}}),a("div",{staticClass:"row",attrs:{id:"background-axis"}},[a("div",{staticClass:"col"},[a("small",{staticClass:"text-center"},[t._v("Horizontal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemBackgroundPositionX,expression:"itemBackgroundPositionX"}],staticClass:"custom-range",attrs:{type:"range",min:"0",max:"100",step:"1",id:"background-horizontal-axis"},domProps:{value:t.itemBackgroundPositionX},on:{__r:function(e){t.itemBackgroundPositionX=e.target.value}}})]),a("div",{staticClass:"col"},[a("small",{staticClass:"text-center"},[t._v("Vertical")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemBackgroundPositionY,expression:"itemBackgroundPositionY"}],staticClass:"custom-range",attrs:{type:"range",min:"0",max:"100",step:"1",id:"background-vertical-axis"},domProps:{value:t.itemBackgroundPositionY},on:{__r:function(e){t.itemBackgroundPositionY=e.target.value}}})])])],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemBackgroundColor",text:"Cor de fundo"}}),a("ColorPicker",{staticClass:"w-100",attrs:{value:t.itemBackgroundColor},on:{input:t.changeBackgroundColor}})],1)])},Xt=[],Yt=a("c345"),Wt=function(t,e){var a=e._c;return a("div",{staticClass:"btn-group-toggle flex-column w-100"},e._l(e.props.options,function(t){return a("label",{key:t.type,staticClass:"btn btn-light text-left w-100 mb-1 d-flex align-items-center",class:{active:e.props.value===t.type}},[a("input",{attrs:{type:"radio",name:"framing",id:"framing-"+t.type,autocomplete:"off"},domProps:{checked:e.props.value===t.type,value:t.type},on:{change:function(t){return e.listeners.input(t.target.value)}}}),a("i",{staticClass:"fa mr-1",class:e.props.value===t.type?"fa-check-square":"fa-square-o"}),a("small",[e._v(e._s(t.description))])])}),0)},Ut=[],Vt={name:"ImageFraming",functional:!0,props:{value:String,options:{type:Array,default:function(){return[{name:"Cortar",type:"cover",description:"Preencher o quadro com a imagem."},{name:"Encaixar",type:"contain",description:"Encaixar a imagem dentro do quadro."}]}}}},Jt=Vt,Kt=Object(L["a"])(Jt,Wt,Ut,!0,null,null,null),Qt=Kt.exports,te={name:"ItemCoverOptions",components:{ImageFraming:Qt,Label:Bt,ColorPicker:Yt["Chrome"]},computed:Object(n["a"])({},Object(i["e"])(["item","rarities","types"]),Object(d["b"])({itemBackgroundColor:"item.backgroundColor",itemBackgroundPositionX:"item.backgroundPositionX",itemBackgroundPositionY:"item.backgroundPositionY",itemBackgroundSize:"item.backgroundSize"})),methods:Object(n["a"])({},Object(i["b"])(["setItemFile"]),{changeBackground:function(t){var e=t.files;this.setItemFile(e[0])},changeBackgroundColor:function(t){var e=this,a=t.hex8;window.BCTimeoutId&&clearTimeout(window.BCTimeoutId),window.BCTimeoutId=setTimeout(function(){e.itemBackgroundColor=a},300,!1)}})},ee=te,ae=(a("d6a7"),Object(L["a"])(ee,Ht,Xt,!1,null,"651c3476",null)),ne=ae.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"options shadow"},[a("div",{staticClass:"options-header "},[a("h5",{staticClass:"text-dark border-bottom m-0 pb-2"},[t._v(t._s(t.title))])]),a("div",{staticClass:"options-content"},[t._t("default")],2)])},ie=[],oe={name:"ItemOptions",props:{title:String}},se=oe,ce=(a("37a1"),Object(L["a"])(se,re,ie,!1,null,"2223f9be",null)),ue=ce.exports,le={name:"ItemGenerator",components:{GeneratedItems:H,ImportItems:Ot,ItemBackOptions:Zt,ItemCoverOptions:ne,ItemOptions:ue,ItemPreview:_t}},me=le,de=(a("ed0b"),Object(L["a"])(me,c,u,!1,null,"077eb61e",null)),fe=de.exports,pe=a("f499"),ve=a.n(pe),ge=a("795b"),be=a.n(ge);function he(t){var e=new FileReader;return new be.a(function(a,n){e.onerror=function(){e.abort(),n(new Error("Error parsing file"))},e.onload=function(e){var n=e.target.result;a({dataUrl:n,name:t.name,size:t.size,type:t.type})},e.readAsDataURL(t)})}function Ce(t){var e=new FileReader;return new be.a(function(a,n){e.onerror=function(){e.abort(),n(new Error("Error parsing file"))},e.onload=function(t){var e=t.target.result;try{a(JSON.parse(e))}catch(r){n(r)}},e.readAsText(t)})}function _e(t,e){var a=encodeURIComponent(ve()(t,null,2)),n="data:text/json;charset=utf-8,"+a,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()}var xe,ye=a("c64e"),Ie=a.n(ye),we="MERGE_IMPORTED_ITEMS",ke="SET_GENERATED_ITEM",Oe="REMOVE_GENERATED_ITEM",Ee="REMOVE_GENERATED_ITEMS",je="RESET_ITEM_DATA",Te="SET_ITEM_FILE",Pe="SET_ITEM_DATA";function Se(t,e){r["a"].set(t,"item",Object(n["a"])({},e))}var Re=(xe={},Object(f["a"])(xe,we,function(t,e){t.generatedItems=Object(n["a"])({},t.generatedItems,e)}),Object(f["a"])(xe,Oe,function(){var t=Object(V["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,swal({title:"Deseja destruir este artefato?",text:"Todos seus componentes serão perdidos para sempre!",icon:"warning",dangerMode:!0,buttons:["Cancelar","Descartar artefato"]});case 2:n=t.sent,n&&r["a"].delete(e.generatedItems,a);case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()),Object(f["a"])(xe,Ee,function(){var t=Object(V["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,swal({title:"Deseja destruir todos os artefatos?",text:"Isso pode abalar o equilibrio mágico da região!",icon:"warning",dangerMode:!0,buttons:["Cancelar","Destruir artefatos"]});case 2:a=t.sent,a&&(e.generatedItems={});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),Object(f["a"])(xe,je,function(t){Se(t,j)}),Object(f["a"])(xe,ke,function(t,e){var a=t.item.uuid||Ie()();r["a"].set(t.generatedItems,a,Object(n["a"])({},t.item,{uuid:a,image:e}))}),Object(f["a"])(xe,Pe,function(t,e){Se(t,e)}),Object(f["a"])(xe,Te,function(t,e){r["a"].set(t.item,"file",e)}),Object(f["a"])(xe,"updateField",function(t,e){clearTimeout(t.timeoutId),t.timeoutId=setTimeout(function(){return Object(d["c"])(t,e)},100)}),xe),Ge={editGeneratedItem:function(t,e){var a=t.commit,n=t.state.generatedItems;a(Pe,n[e])},importGeneratedItems:function(){var t=Object(V["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Ce(a);case 3:r=t.sent,n(we,r);case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),exportGeneratedItems:function(t){var e=t.state.generatedItems;_e(e,"artefatos")},setGeneratedItem:function(t,e){var a=t.commit;a(ke,e),a(je)},setItemFile:function(){var t=Object(V["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,he(a);case 3:r=t.sent,n(Te,r);case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},Be={getField:d["a"],hasGeneratedItems:function(t,e){var a=e.itemsCount;return a>0},itemsCount:function(t){var e=t.generatedItems;return M()(e).length}},De={generatedItems:{},item:Object(n["a"])({},j),rarities:_,timeoutId:null,types:x};r["a"].use(i["a"]);var Me=new i["a"].Store({state:De,actions:Ge,getters:Be,modules:R,mutations:Re});a("abe2");r["a"].use(s.a),r["a"].config.productionTip=!1,new r["a"]({store:Me,computed:Object(n["a"])({},Object(i["c"])(["hasGeneratedItems"])),mounted:function(){window.addEventListener("beforeunload",this.beforeUnloadHandler)},methods:{beforeUnloadHandler:function(t){if(this.hasGeneratedItems){var e="\n          Existem itens na lista!\n          Sair da página pode apagar seus artefatos.\n        ";return t.returnValue=e,e}}},render:function(t){return t(fe)}}).$mount("#app")},"61ad":function(t,e,a){"use strict";var n=a("1c45"),r=a.n(n);r.a},"62ba":function(t,e,a){"use strict";var n=a("e683"),r=a.n(n);r.a},"635f":function(t,e,a){},8123:function(t,e,a){},9576:function(t,e,a){"use strict";var n=a("d551"),r=a.n(n);r.a},"9ce9":function(t,e,a){"use strict";var n=a("cb69"),r=a.n(n);r.a},a037:function(t,e,a){},a14a:function(t,e,a){"use strict";var n=a("1a2c"),r=a.n(n);r.a},abe2:function(t,e,a){},ac1a:function(t,e,a){},c3fb:function(t,e,a){"use strict";var n=a("044f"),r=a.n(n);r.a},cb69:function(t,e,a){},d551:function(t,e,a){},d6a7:function(t,e,a){"use strict";var n=a("ac1a"),r=a.n(n);r.a},e683:function(t,e,a){},ed0b:function(t,e,a){"use strict";var n=a("f6f1"),r=a.n(n);r.a},f36c:function(t,e,a){"use strict";var n=a("a037"),r=a.n(n);r.a},f6f1:function(t,e,a){}});
//# sourceMappingURL=app.7cab94b1.js.map