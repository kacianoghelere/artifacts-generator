(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],m=0,d=[];m<o.length;m++)s=o[m],r[s]&&d.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0942":function(t,e,a){},"0edc":function(t,e,a){"use strict";var n=a("e069"),r=a.n(n);r.a},"2d84":function(t,e,a){"use strict";var n=a("e2b6"),r=a.n(n);r.a},"54fe":function(t,e,a){"use strict";var n=a("be54"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var n,r=a("cebc"),i=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),s=a("2f62"),o=a("63d6"),c=a.n(o),l=(a("1940"),a("740a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content h-100"},[a("nav",{staticClass:"navbar navbar-dark bg-dark w-100"},[a("a",{staticClass:"navbar-brand text-light"},[t._v("Gerador de Artefatos")]),a("ImportItems")],1),a("div",{staticClass:"container-fluid h-100"},[a("div",{staticClass:"item-generator w-100"},[a("div",{staticClass:"editor"},[a("div",{staticClass:"row align-items-stretch h-100"},[a("div",{staticClass:"order-0 order-md-0 col-md-4 col-lg-3 col-xl-2 wrapper bg-options"},[a("ItemBackOptions")],1),a("div",{staticClass:"order-2 order-md-1 col-md-8 col-lg-6 col-xl-8 wrapper"},[a("ItemPreview")],1),a("div",{staticClass:"order-1 order-md-2 col-md-4 col-lg-3 col-xl-2 wrapper bg-options"},[a("ItemCoverOptions")],1)])]),a("div",{staticClass:"export-list"},[a("GeneratedItems",{staticClass:"h-100"})],1)])])])}),u=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row generated-items"},[a("div",{staticClass:"order-1 order-md-0 col-12 col-md-10"},[a("div",{staticClass:"border-bottom d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"text-dark my-1 title"},[t._v("Artefatos criados")]),a("a",{staticClass:"text-danger pointer",attrs:{hidden:!t.hasGeneratedItems},on:{click:t.removeGeneratedItems}},[a("i",{staticClass:"fa fa-trash mr-2"}),t._v(" Destruir artefatos\n      ")])]),a("GeneratedItemsList",{attrs:{"generated-items":t.generatedItems}})],1),a("div",{staticClass:"order-0 order-md-1 col-12 col-md-2 border-left bg-light"},[a("div",{staticClass:"h-100 d-flex flex-column justify-content-center align-items-center"},[a("h4",{staticClass:"text-dark"},[t._v("Exportar artefatos")]),a("div",{staticClass:"w-75"},[a("div",{staticClass:"input-group mb-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.format,expression:"format"}],staticClass:"form-control",attrs:{name:"export-format",id:"export-format"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.format=e.target.multiple?a:a[0]}}},t._l(t.formats,function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v("\n              "+t._s(n)+"\n            ")])}),0),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orientation,expression:"orientation"}],staticClass:"form-control",attrs:{name:"export-orientation",id:"export-orientation"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.orientation=e.target.multiple?a:a[0]}}},t._l(t.orientations,function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v("\n              "+t._s(e)+"\n            ")])}),0)]),a("button",{staticClass:"btn btn-dark btn-block",attrs:{type:"button",disabled:!t.hasGeneratedItems},on:{click:t.exportToPdf}},[a("strong",[t._v("Transcrever arquivo")])])])])])])},d=[],f=a("e511"),p=a.n(f),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"generated-items"},t._l(t.generatedItems,function(e,n){return a("figure",{key:n,staticClass:"figure generated-item",attrs:{title:e.name}},[a("figcaption",{staticClass:"figure-caption text-truncate"},[a("small",[t._v(t._s(e.name))])]),a("div",{staticClass:"figure-image"},[a("img",{staticClass:"img-fluid rounded",attrs:{src:e.image.url,alt:e.image.name}}),a("div",{staticClass:"figure-controls"},[a("a",{staticClass:"text-dark mb-1",on:{click:function(a){return t.download(e.image)}}},[t._m(0,!0)]),a("a",{staticClass:"text-dark mb-1",on:{click:function(e){return t.editGeneratedItem(n)}}},[t._m(1,!0)]),a("a",{staticClass:"text-dark",on:{click:function(e){return t.removeGeneratedItem(n)}}},[t._m(2,!0)])])])])}),0)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("i",{staticClass:"fa fa-cloud-download"}),t._v(" Salvar")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("i",{staticClass:"fa fa-edit"}),t._v(" Modificar")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("i",{staticClass:"fa fa-trash"}),t._v(" Destruir")])}],b=(a("7f7f"),a("a481"),a("a4bb")),h=a.n(b),C={name:"GeneratedItemsList",props:{generatedItems:Object},computed:{hasGeneratedItems:function(){return!!h()(this.generatedItems).length}},methods:Object(r["a"])({},Object(s["b"])(["editGeneratedItem"]),Object(s["d"])({removeGeneratedItem:"REMOVE_GENERATED_ITEM"}),{download:function(t){var e=document.createElement("a");e.href=t.url.replace("image/jpeg","image/octet-stream"),e.download=t.name,e.click()}})},_=C,x=(a("0edc"),a("2877")),y=Object(x["a"])(_,v,g,!1,null,"57669ae4",null),k=y.exports,I={name:"GeneratedItems",components:{GeneratedItemsList:k},data:function(){var t=10,e=function(e,a){return{portrait:{height:a,width:e,availableHeight:a-2*t,availableWidth:e-2*t},landscape:{height:e,width:a,availableHeight:e-2*t,availableWidth:a-2*t}}};return{formats:{a5:e(148,210),a4:e(210,297),a3:e(297,420),a2:e(420,594)},margin:t,format:"a4",orientation:"landscape",orientations:{portrait:"Retrato",landscape:"Paisagem"}}},computed:Object(r["a"])({},Object(s["e"])(["generatedItems"]),Object(s["c"])(["hasGeneratedItems","itemsCount"]),{itemsCountLabel:function(){return this.itemsCount>1?"".concat(this.itemsCount," itens criados"):"1 item criado"},pageDimensions:function(){var t=this.formats,e=this.format,a=this.orientation;return t[e][a]}}),methods:Object(r["a"])({},Object(s["d"])({removeGeneratedItems:"REMOVE_GENERATED_ITEMS"}),{exportToPdf:function(){if(this.hasGeneratedItems){var t=new p.a({unit:"mm",format:this.format,orientation:this.orientation}),e=this.margin,a=this.margin;for(var n in this.generatedItems){var r=this.generatedItems[n].image,i=this.getImageRealSize(r),s=i.width,o=i.height,c=this.fitsFormatWidth(e+s),l=this.fitsFormatHeight(a+o);c||l?!c&&l&&(e=this.margin,a+=o+this.margin):(t.addPage(this.format,this.orientation),e=this.margin,a=this.margin),t.addImage(r.url,"JPEG",e,a,s,o),e+=s+this.margin}t.save("export.pdf")}},fitsFormat:function(t,e){return this.pageDimensions[t]>=e},fitsFormatHeight:function(t){return this.fitsFormat("availableHeight",t)},fitsFormatWidth:function(t){return this.fitsFormat("availableWidth",t)},getImageRealSize:function(t){var e=t.width,a=t.height,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=function(t){return 25.4*t/n};return{width:r(e),height:r(a)}}})},w=I,j=(a("8935"),Object(x["a"])(w,m,d,!1,null,"21385f89",null)),O=j.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-preview"},[a("div",{staticClass:"generate-options"},[a("div",{staticClass:"row align-items-md-center"},[a("div",{staticClass:"order-0 order-md-0 col-12 col-md-4 mb-2 mb-md-0"},[a("div",{staticClass:"form-inline"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemName,expression:"itemName"}],staticClass:"form-control mx-md-1 my-1",attrs:{type:"text",id:"itemName"},domProps:{value:t.itemName},on:{input:function(e){e.target.composing||(t.itemName=e.target.value)}}})])]),a("div",{staticClass:"order-2 order-md-1 col-12 col-md-4 mb-2 mb-md-0 d-md-flex justify-content-md-center"},[a("button",{staticClass:"btn btn-dark text-left text-light",attrs:{type:"button"},on:{click:t.generateImage}},[a("i",{staticClass:"ra ra-fairy-wand mr-2"}),t.item.uuid?a("strong",[t._v("Reconstruir item mágico")]):a("strong",[t._v("Criar item mágico")])])]),a("div",{staticClass:"order-2 col-12 col-md-4 mb-2 mb-md-0 d-none d-md-flex justify-content-md-end"},[a("ItemPreviewSize",{model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}})],1)])]),a("div",{staticClass:"d-flex justify-content-center align-items-center h-100"},[a("div",{ref:"itemCards",staticClass:"item-cards",class:[t.previewSize]},[a("ItemCard",{staticClass:"gold-card"},[a("BackgroundCard",{attrs:{item:t.item}})],1),a("ItemCard",{staticClass:"gold-card"},[a("FrontCard",{attrs:{item:t.item}})],1)],1)])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"my-1 mx-md-1",attrs:{for:"itemName"}},[a("strong",[t._v("Nome do artefato:")])])}],P=(a("96cf"),a("3b8d")),S=a("5935"),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-card"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-name"},[t._v(t._s(t.item.name))]),a("div",{staticClass:"header-details"},[a("div",{staticClass:"type-rarity-attunement"},[a("span",[t._v(t._s(t.item.type)),t.item.subType?a("span",[t._v(" ("+t._s(t.item.subType)+")")]):t._e(),t._v(", ")]),a("strong",[t._v(t._s(t.item.rarity)+" ")]),t.item.requiresAttunement?a("span",[t._v("(requer sintonização)")]):t._e()]),a("div",{staticClass:"description",domProps:{innerHTML:t._s(t.itemDescription)}})])]),a("div",{staticClass:"body"},[t._m(0),a("div",{staticClass:"body-content"},[a("div",{staticClass:"effect"},[a("div",{staticClass:"effect-description",domProps:{innerHTML:t._s(t.itemEffects)}})])])])])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body-heading"},[a("span",[t._v("Mecânicas")])])}],A=a("0e54"),B=a.n(A),M={name:"BackgroundCard",props:{item:{type:Object}},computed:{itemDescription:function(){return this.getMarkdownText(this.item.description)},itemEffects:function(){return this.getMarkdownText(this.item.effects)}},methods:{getMarkdownText:function(t){return B()(t,{sanitize:!0})}}},D=M,z=(a("9ce9"),Object(x["a"])(D,R,G,!1,null,"16fa9a13",null)),L=z.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"front-card",style:t.customStyles},[a("div",{staticClass:"ribbon"},[a("p",{staticClass:"ribbon-text"},[t._v(t._s(t.item.name))])])])},F=[],$={name:"FrontCard",props:{item:{type:Object}},computed:{customStyles:function(){var t="",e=this.item,a=e.file,n=e.backgroundColor,r=e.backgroundSize,i=e.backgroundPositionX,s=e.backgroundPositionY;return a&&(t=a.dataUrl),{"background-color":n,"background-image":"url(".concat(t,")"),"background-position":"".concat(i,"% ").concat(s,"% !important"),"background-size":r}}}},q=$,H=(a("f36c"),Object(x["a"])(q,N,F,!1,null,"696a46cf",null)),V=H.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-card"},[t._t("default")],2)},Y=[],U={name:"ItemCard"},W=U,J=(a("2d84"),Object(x["a"])(W,X,Y,!1,null,"f739e276",null)),K=J.exports,Q=function(t,e){var a=e._c;return a("div",{staticClass:"form-inline"},[e._m(0),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",class:{active:"sm"===e.props.value},attrs:{title:"Torna o preview mais fiel ao resultado final"},on:{click:function(t){return e.listeners.input("sm")}}},[e._v("\n      Pequeno\n    ")]),a("button",{staticClass:"btn btn-outline-secondary btn-sm",class:{active:"md"===e.props.value},attrs:{title:"Tamanho de visualização padrão"},on:{click:function(t){return e.listeners.input("md")}}},[e._v("\n      Normal\n    ")]),a("button",{staticClass:"btn btn-outline-secondary btn-sm",class:{active:"lg"===e.props.value},attrs:{title:"Aumenta o tamanho do preview"},on:{click:function(t){return e.listeners.input("lg")}}},[e._v("\n      Grande\n    ")])])])},Z=[function(t,e){var a=e._c;return a("label",{staticClass:"my-1 mx-1 d-block d-md-inline",attrs:{for:"itemName"}},[a("strong",[e._v("Tamanho de visualização:")])])}],tt={name:"ItemPreviewSize",functional:!0,props:{value:String}},et=tt,at=Object(x["a"])(et,Q,Z,!0,null,null,null),nt=at.exports,rt={name:"ItemPreview",components:{BackgroundCard:L,FrontCard:V,ItemCard:K,ItemPreviewSize:nt},data:function(){return{scale:"md"}},computed:Object(r["a"])({},Object(s["e"])(["item"]),Object(S["b"])({itemName:"item.name"}),{previewSize:function(){return"item-preview-".concat(this.scale)}}),methods:Object(r["a"])({},Object(s["b"])(["setGeneratedItem"]),{exportItem:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$refs.itemCards,t.next=3,this.$html2canvas(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),generateImage:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.exportItem();case 2:e=t.sent,this.setGeneratedItem({name:"".concat(this.item.name,".jpg"),url:e.toDataURL("image/jpeg"),width:e.width,height:e.height});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toggleSize:function(t){this.scale=t}})},it=rt,st=(a("e968"),Object(x["a"])(it,E,T,!1,null,"26360018",null)),ot=st.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-secondary mb-0 mr-2",attrs:{type:"button",disabled:!t.hasGeneratedItems},on:{click:t.exportGeneratedItems}},[a("i",{staticClass:"fa fa-cloud-download mr-2"}),t._v(" Exportar\n  ")]),t._m(0),a("input",{staticClass:"d-none m-0",attrs:{type:"file",id:"importItems",multiple:!1,lang:"pt-br",accept:".json",hidden:""},on:{change:function(e){return t.importItems(e.target)}}})])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"btn btn-secondary mb-0",attrs:{for:"importItems"}},[a("i",{staticClass:"fa fa-cloud-upload"}),t._v(" Importar\n  ")])}],ut={name:"ImportItems",computed:Object(r["a"])({},Object(s["c"])(["hasGeneratedItems"])),methods:Object(r["a"])({},Object(s["b"])(["exportGeneratedItems","importGeneratedItems"]),{importItems:function(t){var e=t.files;this.importGeneratedItems(e[0])}})},mt=ut,dt=Object(x["a"])(mt,ct,lt,!1,null,null,null),ft=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("h5",{staticClass:"text-light mb-3"},[t._v("Opções de descrição")]),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemType",text:"Categoria do artefato"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.itemType,expression:"itemType"}],staticClass:"custom-select",attrs:{id:"itemType"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.itemType=e.target.multiple?a:a[0]}}},t._l(t.types,function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v("\n        "+t._s(e)+"\n      ")])}),0)],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemName",text:"Tipo de artefato"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemSubType,expression:"itemSubType"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Espada com dano cortante",id:"itemSubType"},domProps:{value:t.itemSubType},on:{input:function(e){e.target.composing||(t.itemSubType=e.target.value)}}})],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemRarity",text:"Raridade"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.itemRarity,expression:"itemRarity"}],staticClass:"custom-select",attrs:{id:"itemRarity"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.itemRarity=e.target.multiple?a:a[0]}}},t._l(t.rarities,function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v("\n        "+t._s(e)+"\n      ")])}),0)],1),a("div",{staticClass:"form-group"},[a("SwitchComponent",{attrs:{text:"Requer sintonização?",id:"itemRequiresAttunement"},model:{value:t.itemRequiresAttunement,callback:function(e){t.itemRequiresAttunement=e},expression:"itemRequiresAttunement"}})],1),a("div",{staticClass:"form-group"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("Label",{attrs:{for:"itemDescription",text:"Descrição do artefato"}}),a("span",{staticClass:"badge badge-light"},[t._v("\n        "+t._s(t.itemDescription.length)+"/500\n      ")])],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.itemDescription,expression:"itemDescription"}],staticClass:"form-control",attrs:{id:"itemDescription",maxlength:"500",placeholder:"Alguns detalhes sobre suas origens, propriedades ou aparência",rows:"4"},domProps:{value:t.itemDescription},on:{input:function(e){e.target.composing||(t.itemDescription=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("Label",{attrs:{for:"itemEffects",text:"Efeitos"}})],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.itemEffects,expression:"itemEffects"}],staticClass:"form-control effect-description",attrs:{id:"itemEffects",placeholder:"Com este artefato, o usuário pode...",rows:"4"},domProps:{value:t.itemEffects},on:{input:function(e){e.target.composing||(t.itemEffects=e.target.value)}}})]),t._m(0)])},vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"text-light",attrs:{href:"https://commonmark.org/help/",target:"_blank"}},[a("i",{staticClass:"fa fa-external-link"}),t._v(" Guia de formatação de texto\n  ")])}],gt=function(t,e){var a=e._c;return a("label",{staticClass:"text-light font-weight-bold",attrs:{for:e.props.for}},[e._v("\n    "+e._s(e.props.text)+"\n")])},bt=[],ht={name:"Label",functional:!0,props:{text:{type:String,required:!0},for:{type:String}}},Ct=ht,_t=Object(x["a"])(Ct,gt,bt,!0,null,null,null),xt=_t.exports,yt=function(t,e){var a=e._c;return a("div",{staticClass:"custom-control custom-switch"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.props.id},domProps:{checked:e.props.value},on:{change:function(t){return e.listeners.input(t.target.checked)}}}),a("label",{staticClass:"custom-control-label text-light",attrs:{for:e.props.id}},[e._v("\n    "+e._s(e.props.text)+"\n  ")])])},kt=[],It={name:"SwitchComponent",functional:!0,props:{id:{type:String,required:!0},text:{type:String,default:function(){return""}},value:{type:Boolean,required:!0}}},wt=It,jt=Object(x["a"])(wt,yt,kt,!0,null,null,null),Ot=jt.exports,Et={name:"ItemBackOptions",components:{Label:xt,SwitchComponent:Ot},computed:Object(r["a"])({},Object(s["e"])(["item","rarities","types"]),Object(S["b"])({itemDescription:"item.description",itemEffects:"item.effects",itemRarity:"item.rarity",itemRequiresAttunement:"item.requiresAttunement",itemType:"item.type",itemSubType:"item.subType",itemShowLevels:"item.showLevels"}))},Tt=Et,Pt=Object(x["a"])(Tt,pt,vt,!1,null,null,null),St=Pt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("h5",{staticClass:"text-light mb-3"},[t._v("Opções de capa")]),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"background",text:"Imagem do artefato"}}),a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"backgroundFile",multiple:!1,lang:"pt-br"},on:{change:function(e){return t.changeBackground(e.target)}}}),a("label",{staticClass:"custom-file-label text-truncate",attrs:{for:"backgroundFile"}},[t._v("\n        "+t._s(t.item.file?t.item.file.name:"")+"\n      ")])])],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{text:"Enquadramento"}}),a("ImageFraming",{model:{value:t.itemBackgroundSize,callback:function(e){t.itemBackgroundSize=e},expression:"itemBackgroundSize"}}),"cover"===t.itemBackgroundSize?a("p",{staticClass:"text-light small mt-2"},[t._v("\n      Preenche o quadro com a imagem.\n    ")]):t._e(),"contain"===t.itemBackgroundSize?a("p",{staticClass:"text-light small mt-2"},[t._v("\n      Encaixa a imagem dentro do quadro.\n    ")]):t._e()],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"background-axis",text:"Posicionamento da imagem"}}),a("div",{staticClass:"row",attrs:{id:"background-axis"}},[a("div",{staticClass:"col"},[a("Label",{staticClass:"text-center",attrs:{for:"background-horizontal-axis",text:"Horizontal"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemBackgroundPositionX,expression:"itemBackgroundPositionX"}],staticClass:"custom-range",attrs:{type:"range",min:"0",max:"100",step:"1",id:"background-horizontal-axis"},domProps:{value:t.itemBackgroundPositionX},on:{__r:function(e){t.itemBackgroundPositionX=e.target.value}}})],1),a("div",{staticClass:"col"},[a("Label",{staticClass:"text-center",attrs:{for:"background-vertical-axis",text:"Vertical"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemBackgroundPositionY,expression:"itemBackgroundPositionY"}],staticClass:"custom-range",attrs:{type:"range",min:"0",max:"100",step:"1",id:"background-vertical-axis"},domProps:{value:t.itemBackgroundPositionY},on:{__r:function(e){t.itemBackgroundPositionY=e.target.value}}})],1)])],1),a("div",{staticClass:"form-group"},[a("Label",{attrs:{for:"itemBackgroundColor",text:"Cor de fundo"}}),a("Verte",{attrs:{display:"widget",model:"hex",recentColors:null},model:{value:t.itemBackgroundColor,callback:function(e){t.itemBackgroundColor=e},expression:"itemBackgroundColor"}})],1)])},Gt=[],At=a("36fc"),Bt=(a("bbb4"),function(t,e){var a=e._c;return a("div",{staticClass:"btn-group btn-group-toggle w-100"},e._l(e.props.options,function(t){return a("label",{key:t.type,staticClass:"btn btn-light w-50",class:{active:e.props.value===t.type}},[a("input",{attrs:{type:"radio",name:"framing",id:"framing-"+t.type,autocomplete:"off"},domProps:{checked:e.props.value===t.type,value:t.type},on:{change:function(t){return e.listeners.input(t.target.value)}}}),e.props.value===t.type?a("i",{staticClass:"fa fa-check-circle"}):e._e(),a("span",[e._v(e._s(t.name))])])}),0)}),Mt=[],Dt={name:"ImageFraming",functional:!0,props:{value:String,options:{type:Array,default:function(){return[{type:"cover",name:"Cortar"},{type:"contain",name:"Encaixar"}]}}}},zt=Dt,Lt=Object(x["a"])(zt,Bt,Mt,!0,null,null,null),Nt=Lt.exports,Ft={name:"ItemCoverOptions",components:{ImageFraming:Nt,Label:xt,Verte:At["a"]},computed:Object(r["a"])({},Object(s["e"])(["item","rarities","types"]),Object(S["b"])({itemBackgroundColor:"item.backgroundColor",itemBackgroundPositionX:"item.backgroundPositionX",itemBackgroundPositionY:"item.backgroundPositionY",itemBackgroundSize:"item.backgroundSize"})),methods:Object(r["a"])({},Object(s["b"])(["setItemFile"]),{changeBackground:function(t){var e=t.files;this.setItemFile(e[0])}})},$t=Ft,qt=(a("d08f"),Object(x["a"])($t,Rt,Gt,!1,null,"2bd18e69",null)),Ht=qt.exports,Vt={name:"ItemGenerator",components:{GeneratedItems:O,ImportItems:ft,ItemCoverOptions:Ht,ItemPreview:ot,ItemBackOptions:St}},Xt=Vt,Yt=(a("54fe"),Object(x["a"])(Xt,l,u,!1,null,"0d399932",null)),Ut=Yt.exports,Wt=a("bd86"),Jt=a("c64e"),Kt=a.n(Jt),Qt=["Comum","Incomum","Raro","Muito Raro","Lendário","Artefato","Único"],Zt=["Anel","Arma","Armadura","Benção","Cajado","Item Maravilhoso","Pergaminho","Poção","Varinha"],te={uuid:null,name:"Meu novo item mágico",type:Zt[4],subType:"",rarity:Qt[0],description:"",effects:"",requiresAttunement:!1,file:null,backgroundColor:"#ffffff",backgroundSize:"contain",backgroundPositionX:50,backgroundPositionY:50,showLevels:!0},ee="MERGE_IMPORTED_ITEMS",ae="SET_GENERATED_ITEM",ne="REMOVE_GENERATED_ITEM",re="REMOVE_GENERATED_ITEMS",ie="RESET_ITEM_DATA",se="SET_ITEM_FILE",oe="SET_ITEM_DATA";function ce(t,e){i["a"].set(t,"item",Object(r["a"])({},e))}var le=(n={},Object(Wt["a"])(n,ee,function(t,e){t.generatedItems=Object(r["a"])({},t.generatedItems,e)}),Object(Wt["a"])(n,ne,function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,swal({title:"Deseja destruir este artefato?",text:"Todos seus componentes serão perdidos para sempre!",icon:"warning",dangerMode:!0,buttons:["Cancelar","Descartar artefato"]});case 2:n=t.sent,n&&i["a"].delete(e.generatedItems,a);case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()),Object(Wt["a"])(n,re,function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,swal({title:"Deseja destruir todos os artefatos?",text:"Isso pode abalar o equilibrio mágico da região!",icon:"warning",dangerMode:!0,buttons:["Cancelar","Destruir artefatos"]});case 2:a=t.sent,a&&(e.generatedItems={});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),Object(Wt["a"])(n,ie,function(t){ce(t,te)}),Object(Wt["a"])(n,ae,function(t,e){var a=t.item.uuid||Kt()();i["a"].set(t.generatedItems,a,Object(r["a"])({},t.item,{uuid:a,image:e}))}),Object(Wt["a"])(n,oe,function(t,e){ce(t,e)}),Object(Wt["a"])(n,se,function(t,e){i["a"].set(t.item,"file",e)}),Object(Wt["a"])(n,"updateField",function(t,e){clearTimeout(t.timeoutId),t.timeoutId=setTimeout(function(){return Object(S["c"])(t,e)},100)}),n),ue=a("f499"),me=a.n(ue),de=a("795b"),fe=a.n(de);function pe(t){var e=new FileReader;return new fe.a(function(a,n){e.onerror=function(){e.abort(),n(new Error("Error parsing file"))},e.onload=function(e){var n=e.target.result;a({dataUrl:n,name:t.name,size:t.size,type:t.type})},e.readAsDataURL(t)})}function ve(t){var e=new FileReader;return new fe.a(function(a,n){e.onerror=function(){e.abort(),n(new Error("Error parsing file"))},e.onload=function(t){var e=t.target.result;try{a(JSON.parse(e))}catch(r){n(r)}},e.readAsText(t)})}function ge(t,e){var a=encodeURIComponent(me()(t,null,2)),n="data:text/json;charset=utf-8,"+a,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()}var be={editGeneratedItem:function(t,e){var a=t.commit,n=t.state.generatedItems;a(oe,n[e])},importGeneratedItems:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,ve(a);case 3:r=t.sent,n(ee,r);case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),exportGeneratedItems:function(t){var e=t.state.generatedItems;ge(e,"artefatos")},setGeneratedItem:function(t,e){var a=t.commit;a(ae,e),a(ie)},setItemFile:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,pe(a);case 3:r=t.sent,n(se,r);case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},he={getField:S["a"],hasGeneratedItems:function(t,e){var a=e.itemsCount;return a>0},itemsCount:function(t){var e=t.generatedItems;return h()(e).length}},Ce={generatedItems:{},item:Object(r["a"])({},te),rarities:Qt,timeoutId:null,types:Zt};i["a"].use(s["a"]);var _e=new s["a"].Store({state:Ce,getters:he,mutations:le,actions:be});a("abe2");i["a"].use(c.a),i["a"].config.productionTip=!1,new i["a"]({store:_e,computed:Object(r["a"])({},Object(s["c"])(["hasGeneratedItems"])),mounted:function(){window.addEventListener("beforeunload",this.beforeUnloadHandler)},methods:{beforeUnloadHandler:function(t){if(this.hasGeneratedItems){var e="\n          Existem itens na lista!\n          Sair da página pode apagar seus artefatos.\n        ";return t.returnValue=e,e}}},render:function(t){return t(Ut)}}).$mount("#app")},8935:function(t,e,a){"use strict";var n=a("af55"),r=a.n(n);r.a},"9ce9":function(t,e,a){"use strict";var n=a("cb69"),r=a.n(n);r.a},a037:function(t,e,a){},ab69:function(t,e,a){},abe2:function(t,e,a){},af55:function(t,e,a){},be54:function(t,e,a){},cb69:function(t,e,a){},d08f:function(t,e,a){"use strict";var n=a("ab69"),r=a.n(n);r.a},e069:function(t,e,a){},e2b6:function(t,e,a){},e968:function(t,e,a){"use strict";var n=a("0942"),r=a.n(n);r.a},f36c:function(t,e,a){"use strict";var n=a("a037"),r=a.n(n);r.a}});
//# sourceMappingURL=app.1d489a20.js.map